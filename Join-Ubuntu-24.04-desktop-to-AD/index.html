
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Michael Hubbard (rikosintie)">
      
      
        <link rel="canonical" href="https://rikosintie.github.io/Ubuntu4NetworkEngineers/Join-Ubuntu-24.04-desktop-to-AD/">
      
      
        <link rel="prev" href="../KVM-Bridge/">
      
      
      
      <link rel="icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>Add to AD - Ubuntu for Network Engineers</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      
  
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
  
  <style>:root{--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M0%208a8%208%200%201%201%2016%200A8%208%200%200%201%200%208m8-6.5a6.5%206.5%200%201%200%200%2013%206.5%206.5%200%200%200%200-13M6.5%207.75A.75.75%200%200%201%207.25%207h1a.75.75%200%200%201%20.75.75v2.75h.25a.75.75%200%200%201%200%201.5h-2a.75.75%200%200%201%200-1.5h.25v-2h-.25a.75.75%200%200%201-.75-.75M8%206a1%201%200%201%201%200-2%201%201%200%200%201%200%202%22/%3E%3C/svg%3E');--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M1%207.775V2.75C1%201.784%201.784%201%202.75%201h5.025c.464%200%20.91.184%201.238.513l6.25%206.25a1.75%201.75%200%200%201%200%202.474l-5.026%205.026a1.75%201.75%200%200%201-2.474%200l-6.25-6.25A1.75%201.75%200%200%201%201%207.775m1.5%200c0%20.066.026.13.073.177l6.25%206.25a.25.25%200%200%200%20.354%200l5.025-5.025a.25.25%200%200%200%200-.354l-6.25-6.25a.25.25%200%200%200-.177-.073H2.75a.25.25%200%200%200-.25.25ZM6%205a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M3.499.75a.75.75%200%200%201%201.5%200v.996C5.9%202.903%206.793%203.65%207.662%204.376l.24.202c-.036-.694.055-1.422.426-2.163C9.1.873%2010.794-.045%2012.622.26%2014.408.558%2016%201.94%2016%204.25c0%201.278-.954%202.575-2.44%202.734l.146.508.065.22c.203.701.412%201.455.476%202.226.142%201.707-.4%203.03-1.487%203.898C11.714%2014.671%2010.27%2015%208.75%2015h-6a.75.75%200%200%201%200-1.5h1.376a4.5%204.5%200%200%201-.563-1.191%203.84%203.84%200%200%201-.05-2.063%204.65%204.65%200%200%201-2.025-.293.75.75%200%200%201%20.525-1.406c1.357.507%202.376-.006%202.698-.318l.009-.01a.747.747%200%200%201%201.06%200%20.75.75%200%200%201-.012%201.074c-.912.92-.992%201.835-.768%202.586.221.74.745%201.337%201.196%201.621H8.75c1.343%200%202.398-.296%203.074-.836.635-.507%201.036-1.31.928-2.602-.05-.603-.216-1.224-.422-1.93l-.064-.221c-.12-.407-.246-.84-.353-1.29a2.4%202.4%200%200%201-.507-.441%203.1%203.1%200%200%201-.633-1.248.75.75%200%200%201%201.455-.364c.046.185.144.436.31.627.146.168.353.305.712.305.738%200%201.25-.615%201.25-1.25%200-1.47-.95-2.315-2.123-2.51-1.172-.196-2.227.387-2.706%201.345-.46.92-.27%201.774.019%203.062l.042.19.01.05c.348.443.666.949.94%201.553a.75.75%200%201%201-1.365.62c-.553-1.217-1.32-1.94-2.3-2.768L6.7%205.527c-.814-.68-1.75-1.462-2.692-2.619a3.7%203.7%200%200%200-1.023.88c-.406.495-.663%201.036-.722%201.508.116.122.306.21.591.239.388.038.797-.06%201.032-.19a.75.75%200%200%201%20.728%201.31c-.515.287-1.23.439-1.906.373-.682-.067-1.473-.38-1.879-1.193L.75%205.677V5.5c0-.984.48-1.94%201.077-2.664.46-.559%201.05-1.055%201.673-1.353z%22/%3E%3C/svg%3E');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M6.457%201.047c.659-1.234%202.427-1.234%203.086%200l6.082%2011.378A1.75%201.75%200%200%201%2014.082%2015H1.918a1.75%201.75%200%200%201-1.543-2.575Zm1.763.707a.25.25%200%200%200-.44%200L1.698%2013.132a.25.25%200%200%200%20.22.368h12.164a.25.25%200%200%200%20.22-.368Zm.53%203.996v2.5a.75.75%200%200%201-1.5%200v-2.5a.75.75%200%200%201%201.5%200M9%2011a1%201%200%201%201-2%200%201%201%200%200%201%202%200%22/%3E%3C/svg%3E');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M13.78%204.22a.75.75%200%200%201%200%201.06l-7.25%207.25a.75.75%200%200%201-1.06%200L2.22%209.28a.75.75%200%200%201%20.018-1.042.75.75%200%200%201%201.042-.018L6%2010.94l6.72-6.72a.75.75%200%200%201%201.06%200%22/%3E%3C/svg%3E');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M0%208a8%208%200%201%201%2016%200A8%208%200%200%201%200%208m8-6.5a6.5%206.5%200%201%200%200%2013%206.5%206.5%200%200%200%200-13M6.92%206.085h.001a.749.749%200%201%201-1.342-.67c.169-.339.436-.701.849-.977C6.845%204.16%207.369%204%208%204a2.76%202.76%200%200%201%201.637.525c.503.377.863.965.863%201.725%200%20.448-.115.83-.329%201.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6%206%200%200%200-.26.16%201%201%200%200%200-.276.245.75.75%200%200%201-1.248-.832c.184-.264.42-.489.692-.661q.154-.1.313-.195l.007-.004c.1-.061.182-.11.258-.161a1%201%200%200%200%20.277-.245C8.96%206.514%209%206.427%209%206.25a.61.61%200%200%200-.262-.525A1.27%201.27%200%200%200%208%205.5c-.369%200-.595.09-.74.187a1%201%200%200%200-.34.398M9%2011a1%201%200%201%201-2%200%201%201%200%200%201%202%200%22/%3E%3C/svg%3E');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2.344%202.343za8%208%200%200%201%2011.314%2011.314A8.002%208.002%200%200%201%20.234%2010.089a8%208%200%200%201%202.11-7.746m1.06%2010.253a6.5%206.5%200%201%200%209.108-9.275%206.5%206.5%200%200%200-9.108%209.275M6.03%204.97%208%206.94l1.97-1.97a.749.749%200%200%201%201.275.326.75.75%200%200%201-.215.734L9.06%208l1.97%201.97a.749.749%200%200%201-.326%201.275.75.75%200%200%201-.734-.215L8%209.06l-1.97%201.97a.749.749%200%200%201-1.275-.326.75.75%200%200%201%20.215-.734L6.94%208%204.97%206.03a.75.75%200%200%201%20.018-1.042.75.75%200%200%201%201.042-.018%22/%3E%3C/svg%3E');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M9.504.43a1.516%201.516%200%200%201%202.437%201.713L10.415%205.5h2.123c1.57%200%202.346%201.909%201.22%203.004l-7.34%207.142a1.25%201.25%200%200%201-.871.354h-.302a1.25%201.25%200%200%201-1.157-1.723L5.633%2010.5H3.462c-1.57%200-2.346-1.909-1.22-3.004zm1.047%201.074L3.286%208.571A.25.25%200%200%200%203.462%209H6.75a.75.75%200%200%201%20.694%201.034l-1.713%204.188%206.982-6.793A.25.25%200%200%200%2012.538%207H9.25a.75.75%200%200%201-.683-1.06l2.008-4.418.003-.006-.004-.009-.006-.006-.008-.001q-.005%200-.009.004%22/%3E%3C/svg%3E');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M4.72.22a.75.75%200%200%201%201.06%200l1%20.999a3.5%203.5%200%200%201%202.441%200l.999-1a.748.748%200%200%201%201.265.332.75.75%200%200%201-.205.729l-.775.776c.616.63.995%201.493.995%202.444v.327q0%20.15-.025.292c.408.14.764.392%201.029.722l1.968-.787a.75.75%200%200%201%20.556%201.392L13%207.258V9h2.25a.75.75%200%200%201%200%201.5H13v.5q-.002.615-.141%201.186l2.17.868a.75.75%200%200%201-.557%201.392l-2.184-.873A5%205%200%200%201%208%2016a5%205%200%200%201-4.288-2.427l-2.183.873a.75.75%200%200%201-.558-1.392l2.17-.868A5%205%200%200%201%203%2011v-.5H.75a.75.75%200%200%201%200-1.5H3V7.258L.971%206.446a.75.75%200%200%201%20.558-1.392l1.967.787c.265-.33.62-.583%201.03-.722a1.7%201.7%200%200%201-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72%201.28a.75.75%200%200%201%200-1.06m.53%206.28a.75.75%200%200%200-.75.75V11a3.5%203.5%200%201%200%207%200V7.25a.75.75%200%200%200-.75-.75ZM6.173%205h3.654A.17.17%200%200%200%2010%204.827V4.5a2%202%200%201%200-4%200v.327c0%20.096.077.173.173.173%22/%3E%3C/svg%3E');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5%205.782V2.5h-.25a.75.75%200%200%201%200-1.5h6.5a.75.75%200%200%201%200%201.5H11v3.282l3.666%205.76C15.619%2013.04%2014.543%2015%2012.767%2015H3.233c-1.776%200-2.852-1.96-1.899-3.458Zm-2.4%206.565a.75.75%200%200%200%20.633%201.153h9.534a.75.75%200%200%200%20.633-1.153L12.225%2010.5h-8.45ZM9.5%202.5h-3V6c0%20.143-.04.283-.117.403L4.73%209h6.54L9.617%206.403A.75.75%200%200%201%209.5%206Z%22/%3E%3C/svg%3E');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M1.75%202.5h10.5a.75.75%200%200%201%200%201.5H1.75a.75.75%200%200%201%200-1.5m4%205h8.5a.75.75%200%200%201%200%201.5h-8.5a.75.75%200%200%201%200-1.5m0%205h8.5a.75.75%200%200%201%200%201.5h-8.5a.75.75%200%200%201%200-1.5M2.5%207.75v6a.75.75%200%200%201-1.5%200v-6a.75.75%200%200%201%201.5%200%22/%3E%3C/svg%3E');}</style>



    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Add to AD - Ubuntu for Network Engineers" >
      
        <meta  property="og:description"  content="None" >
      
        <meta  property="og:image"  content="https://rikosintie.github.io/Ubuntu4NetworkEngineers/assets/images/social/Join-Ubuntu-24.04-desktop-to-AD.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://rikosintie.github.io/Ubuntu4NetworkEngineers/Join-Ubuntu-24.04-desktop-to-AD/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Add to AD - Ubuntu for Network Engineers" >
      
        <meta  name="twitter:description"  content="None" >
      
        <meta  name="twitter:image"  content="https://rikosintie.github.io/Ubuntu4NetworkEngineers/assets/images/social/Join-Ubuntu-24.04-desktop-to-AD.png" >
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#join-ubuntu-2404-desktop-to-ad" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Ubuntu for Network Engineers" class="md-header__button md-logo" aria-label="Ubuntu for Network Engineers" data-md-component="logo">
      
  <img src="../img/ubuntu_icon1.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Ubuntu for Network Engineers
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Add to AD
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/rikosintie/Ubuntu4NetworkEngineers" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    rikosintie/Ubuntu4NetworkEngineers
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../Introduction/" class="md-tabs__link">
        
  
  
    
  
  Intro

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../Ch01-Using-Ubuntu/" class="md-tabs__link">
        
  
  
    
  
  Usage

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../CH02-Install-Tools/" class="md-tabs__link">
        
  
  
    
  
  Desktop

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../terminal/" class="md-tabs__link">
        
  
  
    
  
  Terminal

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../wireless-tools/" class="md-tabs__link">
        
  
  
    
  
  WiFi Tools

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../Log_tools/" class="md-tabs__link">
        
  
  
    
  
  Log Tools

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../SSH/" class="md-tabs__link">
        
  
  
    
  
  SSH

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../KVM-Bridge/" class="md-tabs__link">
        
  
  
    
  
  KVM

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
  
    
  
  Add to AD

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Ubuntu for Network Engineers" class="md-nav__button md-logo" aria-label="Ubuntu for Network Engineers" data-md-component="logo">
      
  <img src="../img/ubuntu_icon1.png" alt="logo">

    </a>
    Ubuntu for Network Engineers
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/rikosintie/Ubuntu4NetworkEngineers" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    rikosintie/Ubuntu4NetworkEngineers
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Intro
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Ch01-Using-Ubuntu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Usage
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../CH02-Install-Tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Desktop
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../terminal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Terminal
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../wireless-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WiFi Tools
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Log_tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Log Tools
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../SSH/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SSH
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../KVM-Bridge/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    KVM
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Add to AD
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Add to AD
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#install-the-packages-needed-to-join-ad" class="md-nav__link">
    <span class="md-ellipsis">
      Install the packages needed to join AD
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Install the packages needed to join AD">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#review-the-installed-packages" class="md-nav__link">
    <span class="md-ellipsis">
      Review the installed packages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prerequisites-before-joining-ad" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites before joining AD
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-the-current-host-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Check the current host configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#if-the-host-needs-to-have-the-fqdn-configured" class="md-nav__link">
    <span class="md-ellipsis">
      If the host needs to have the FQDN configured
    </span>
  </a>
  
    <nav class="md-nav" aria-label="If the host needs to have the FQDN configured">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#verify-that-a-dc-19216810222-is-the-dns-resolver" class="md-nav__link">
    <span class="md-ellipsis">
      Verify that a DC (192.168.10.222) is the DNS resolver
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#verify-that-the-host-can-be-found-in-dns" class="md-nav__link">
    <span class="md-ellipsis">
      Verify that the host can be found in DNS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Verify that the host can be found in DNS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-dig-to-verify-that-dns-works" class="md-nav__link">
    <span class="md-ellipsis">
      Use dig to verify that DNS works
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-dig-with-the-hostname" class="md-nav__link">
    <span class="md-ellipsis">
      Use dig with the hostname
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Use dig with the hostname">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#troubleshooting-if-using-dhcp" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting If using DHCP
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting If using DHCP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#release-and-renew-the-lease" class="md-nav__link">
    <span class="md-ellipsis">
      Release and renew the lease
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#troubleshooting-if-using-static-ip" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting If using static IP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#display-the-ntp-server" class="md-nav__link">
    <span class="md-ellipsis">
      Display the NTP server
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restart-the-daemons" class="md-nav__link">
    <span class="md-ellipsis">
      Restart the daemons
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-that-the-host-can-find-ad" class="md-nav__link">
    <span class="md-ellipsis">
      Verify that the host can find AD
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-the-kerberos-file" class="md-nav__link">
    <span class="md-ellipsis">
      Create the Kerberos file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-that-the-dc-is-discoverable" class="md-nav__link">
    <span class="md-ellipsis">
      Verify that the DC is discoverable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join-the-domain" class="md-nav__link">
    <span class="md-ellipsis">
      Join the Domain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#display-the-sssdconf-file" class="md-nav__link">
    <span class="md-ellipsis">
      Display the sssd.conf file
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#display-the-pam-configuration-file" class="md-nav__link">
    <span class="md-ellipsis">
      Display the PAM configuration file
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Display the PAM configuration file">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#display-the-realm" class="md-nav__link">
    <span class="md-ellipsis">
      Display the realm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#display-ad-status" class="md-nav__link">
    <span class="md-ellipsis">
      Display AD Status
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#log-into-the-domain" class="md-nav__link">
    <span class="md-ellipsis">
      Log into the domain
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Log into the domain">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#add-the-ad-user-to-the-sudoers-group" class="md-nav__link">
    <span class="md-ellipsis">
      Add the AD user to the sudoers group
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connect-to-a-windows-share" class="md-nav__link">
    <span class="md-ellipsis">
      Connect to a windows share
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-mount-point" class="md-nav__link">
    <span class="md-ellipsis">
      Create a mount point
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#display-a-specific-user" class="md-nav__link">
    <span class="md-ellipsis">
      Display a specific user
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#display-the-domain-users-group" class="md-nav__link">
    <span class="md-ellipsis">
      Display the "Domain Users" group
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#display-a-users-groups" class="md-nav__link">
    <span class="md-ellipsis">
      Display a user's groups
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#display-user-information" class="md-nav__link">
    <span class="md-ellipsis">
      Display user information
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      References
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="join-ubuntu-2404-desktop-to-ad">Join Ubuntu 24.04 desktop to AD</h1>
<p><img alt="screenshot" src="../img/Tux-Windows3.jpeg" /></p>
<hr />
<p><img alt="▶" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/25b6.svg" title=":arrow_forward:" /> KEY TAKEAWAYS</p>
<ul>
<li>It's surprising easy to join Ubuntu 24.04 to Active Directory</li>
<li>All of the packages needed are in the Ubuntu package manager</li>
<li>Ubuntu has several tools for managing the AD connection</li>
</ul>
<hr />
<p>Many companies will require that all laptops or Virtual Machines be connected to Active Directory. That is no problem with Ubuntu 24.04 as Canonical provides the packages needed.</p>
<h2 id="install-the-packages-needed-to-join-ad">Install the packages needed to join AD</h2>
<p>Whether it's a laptop or VM it should be fully updated before starting the installation of the Active Directory packages. Use the following command to update and install the packages:</p>
<div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1"></a>sudo<span class="w"> </span>apt<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sudo<span class="w"> </span>apt<span class="w"> </span>upgrade
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2"></a>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>sssd-ad<span class="w"> </span>sssd-tools<span class="w"> </span>realmd<span class="w"> </span>adcli
</span></code></pre></div></td></tr></table></div>
<h3 id="review-the-installed-packages">Review the installed packages</h3>
<p>This is optional but I wanted to show you how to use <code>apt</code> to display versions</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span>
<span class="normal"><a href="#__codelineno-1-11">11</a></span>
<span class="normal"><a href="#__codelineno-1-12">12</a></span>
<span class="normal"><a href="#__codelineno-1-13">13</a></span>
<span class="normal"><a href="#__codelineno-1-14">14</a></span>
<span class="normal"><a href="#__codelineno-1-15">15</a></span>
<span class="normal"><a href="#__codelineno-1-16">16</a></span>
<span class="normal"><a href="#__codelineno-1-17">17</a></span>
<span class="normal"><a href="#__codelineno-1-18">18</a></span>
<span class="normal"><a href="#__codelineno-1-19">19</a></span>
<span class="normal"><a href="#__codelineno-1-20">20</a></span>
<span class="normal"><a href="#__codelineno-1-21">21</a></span>
<span class="normal"><a href="#__codelineno-1-22">22</a></span>
<span class="normal"><a href="#__codelineno-1-23">23</a></span>
<span class="normal"><a href="#__codelineno-1-24">24</a></span>
<span class="normal"><a href="#__codelineno-1-25">25</a></span>
<span class="normal"><a href="#__codelineno-1-26">26</a></span>
<span class="normal"><a href="#__codelineno-1-27">27</a></span>
<span class="normal"><a href="#__codelineno-1-28">28</a></span>
<span class="normal"><a href="#__codelineno-1-29">29</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="hll">mhubbard@z420VM-2404:~$ apt policy sssd-ad sssd-tools realmd adcli
</span></span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="hll">sssd-ad:
</span></span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3"></a>  Installed: 2.9.4-1.1ubuntu6
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4"></a>  Candidate: 2.9.4-1.1ubuntu6
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5"></a>  Version table:
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6"></a> *** 2.9.4-1.1ubuntu6 500
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7"></a>        500 http://us.archive.ubuntu.com/ubuntu noble/main amd64 Packages
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8"></a>        100 /var/lib/dpkg/status
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="hll">sssd-tools:
</span></span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10"></a>  Installed: 2.9.4-1.1ubuntu6
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11"></a>  Candidate: 2.9.4-1.1ubuntu6
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12"></a>  Version table:
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13"></a> *** 2.9.4-1.1ubuntu6 500
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14"></a>        500 http://us.archive.ubuntu.com/ubuntu noble/main amd64 Packages
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15"></a>        100 /var/lib/dpkg/status
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16"></a><span class="hll">realmd:
</span></span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17"></a>  Installed: 0.17.1-3build2
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18"></a>  Candidate: 0.17.1-3build2
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19"></a>  Version table:
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20"></a> *** 0.17.1-3build2 500
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21"></a>        500 http://us.archive.ubuntu.com/ubuntu noble/main amd64 Packages
</span><span id="__span-1-22"><a id="__codelineno-1-22" name="__codelineno-1-22"></a>        100 /var/lib/dpkg/status
</span><span id="__span-1-23"><a id="__codelineno-1-23" name="__codelineno-1-23"></a><span class="hll">adcli:
</span></span><span id="__span-1-24"><a id="__codelineno-1-24" name="__codelineno-1-24"></a>  Installed: 0.9.2-1ubuntu2
</span><span id="__span-1-25"><a id="__codelineno-1-25" name="__codelineno-1-25"></a>  Candidate: 0.9.2-1ubuntu2
</span><span id="__span-1-26"><a id="__codelineno-1-26" name="__codelineno-1-26"></a>  Version table:
</span><span id="__span-1-27"><a id="__codelineno-1-27" name="__codelineno-1-27"></a> *** 0.9.2-1ubuntu2 500
</span><span id="__span-1-28"><a id="__codelineno-1-28" name="__codelineno-1-28"></a>        500 http://us.archive.ubuntu.com/ubuntu noble/main amd64 Packages
</span><span id="__span-1-29"><a id="__codelineno-1-29" name="__codelineno-1-29"></a>        100 /var/lib/dpkg/status
</span></code></pre></div></td></tr></table></div>
<h3 id="prerequisites-before-joining-ad">Prerequisites before joining AD</h3>
<ul>
<li>A working Active Directory domain is available</li>
<li>You have access to the credentials to join a machine to that domain</li>
<li>The DC is acting as an authoritative DNS server for the domain.</li>
<li>The primary DNS resolver on the laptop points to a DC (check with resolvectl status).</li>
<li>System time is correct and in sync with the DC, maintained via a service like chrony or ntp.</li>
<li>The domain used in this example is pu.pri.</li>
<li>The laptop's hostname is z420VM-2404.</li>
</ul>
<h3 id="check-the-current-host-configuration">Check the current host configuration</h3>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-2-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-2-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-2-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-2-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-2-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-2-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-2-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-2-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-2-10">10</a></span>
<span class="normal"><a href="#__codelineno-2-11">11</a></span>
<span class="normal"><a href="#__codelineno-2-12">12</a></span>
<span class="normal"><a href="#__codelineno-2-13">13</a></span>
<span class="normal"><a href="#__codelineno-2-14">14</a></span>
<span class="normal"><a href="#__codelineno-2-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="hll">mhubbard@z420VM-2404:~$ hostnamectl
</span></span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="hll"> Static hostname: z420VM-2404.pu.pri
</span></span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3"></a>       Icon name: computer-vm
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4"></a>         Chassis: vm 🖴
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5"></a>      Machine ID: c7fecbdab8ed4fdba09c3833e51fc616
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6"></a>         Boot ID: e71c80c79fb54e2b9e88ea1c77e005a9
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7"></a>  Virtualization: vmware
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8"></a>Operating System: Ubuntu 24.04 LTS
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9"></a>          Kernel: Linux 6.8.0-31-generic
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10"></a>    Architecture: x86-64
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11"></a> Hardware Vendor: VMware, Inc.
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12"></a>  Hardware Model: VMware Virtual Platform
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13"></a>Firmware Version: 6.00
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14"></a>   Firmware Date: Thu 2020-11-12
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15"></a>    Firmware Age: 3y 6month 2w 3d
</span></code></pre></div></td></tr></table></div>
<p>Notice that the fully qualified DNS domain <code>pu.pri</code> is appended to the hostname. That is the domain we will join. For an Ubuntu 24.04 machine to join AD it must have the hostname setup correctly.</p>
<h2 id="if-the-host-needs-to-have-the-fqdn-configured">If the host needs to have the FQDN configured</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>mhubbard@z420VM-2404:~$<span class="w"> </span>sudo<span class="w"> </span>hostnamectl<span class="w"> </span>set-hostname<span class="w"> </span>z420VM-2404.pu.pri
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>mhubbard@z420VM-2404:~$<span class="w"> </span>hostname
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>z420VM-2404.pu.pri
</span></code></pre></div>
<h3 id="verify-that-a-dc-19216810222-is-the-dns-resolver">Verify that a DC (192.168.10.222) is the DNS resolver</h3>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-4-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-4-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-4-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-4-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-4-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-4-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-4-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-4-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-4-10">10</a></span>
<span class="normal"><a href="#__codelineno-4-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="hll">mhubbard@z420VM-2404:~$ resolvectl status
</span></span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2"></a>Global
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3"></a>         Protocols: -LLMNR -mDNS -DNSOverTLS DNSSEC=no/unsupported
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4"></a>  resolv.conf mode: stub
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5"></a>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="hll">Link 2 (ens33)
</span></span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7"></a>    Current Scopes: DNS
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8"></a>         Protocols: +DefaultRoute -LLMNR -mDNS -DNSOverTLS DNSSEC=no/unsupported
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="hll">Current DNS Server: 192.168.10.222
</span></span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10"></a>       DNS Servers: 192.168.10.222
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11"></a><span class="hll">        DNS Domain: pu.pri
</span></span></code></pre></div></td></tr></table></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To clear the DNS cache use <code>resolvectl flush-caches</code></p>
</div>
<h2 id="verify-that-the-host-can-be-found-in-dns">Verify that the host can be found in DNS</h2>
<p>The <code>host</code> command with a domain name as the parameter will return DNS information about the domain name.</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span>
<span class="normal"><a href="#__codelineno-5-2">2</a></span>
<span class="normal"><a href="#__codelineno-5-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="hll">host pu.pri
</span></span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2"></a>pu.pri has address 192.168.10.222
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3"></a>pu.pri has IPv6 address fd24:42b2:12ce:0:a9da:b612:7d4c:7683
</span></code></pre></div></td></tr></table></div>
<p>Now we know at there is a DC is at <code>192.168.10.222</code>.</p>
<p>The <code>host</code> command with a hostname will print out the hostname and ip address. Then we use the <code>host</code> command with the ip address to look up the host in DNS.</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span>
<span class="normal"><a href="#__codelineno-6-2">2</a></span>
<span class="normal"><a href="#__codelineno-6-3">3</a></span>
<span class="normal"><a href="#__codelineno-6-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="hll">mhubbard@z420VM-2404:~$ host z420VM-2404
</span></span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2"></a>z420VM-2404.pu.pri has address 192.168.10.105
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="hll">mhubbard@z420VM-2404:~$ host 192.168.10.105
</span></span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4"></a>105.10.168.192.in-addr.arpa domain name pointer z420VM-2404.pu.pri.
</span></code></pre></div></td></tr></table></div>
<p>The <code>host</code> command may return 127.0.1.1 as the ip address. This will still work in the second step. The host command returned the pu.pri domain so the host can be found in the DNS zone. There are two reasons I did it this way instead of just looking at the terminal prompt and pinging that name with the domain added on:</p>
<ul>
<li>You just learned about the host command. You can use <code>man host</code> to learn more.</li>
<li>DNS is critical to AD and this method makes the DNS properties more obvious.</li>
</ul>
<h3 id="use-dig-to-verify-that-dns-works">Use dig to verify that DNS works</h3>
<p>If the <code>host</code> command returns 127.0.1.1 as the ip address then use the <code>ip address</code> command to find the network ip address. In this example the <code>@</code> is used to pick a specific DNS server. If you don't use it the host will use the loopback IP address.</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-7-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-7-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-7-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-7-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-7-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-7-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-7-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-7-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-7-10">10</a></span>
<span class="normal"><a href="#__codelineno-7-11">11</a></span>
<span class="normal"><a href="#__codelineno-7-12">12</a></span>
<span class="normal"><a href="#__codelineno-7-13">13</a></span>
<span class="normal"><a href="#__codelineno-7-14">14</a></span>
<span class="normal"><a href="#__codelineno-7-15">15</a></span>
<span class="normal"><a href="#__codelineno-7-16">16</a></span>
<span class="normal"><a href="#__codelineno-7-17">17</a></span>
<span class="normal"><a href="#__codelineno-7-18">18</a></span>
<span class="normal"><a href="#__codelineno-7-19">19</a></span>
<span class="normal"><a href="#__codelineno-7-20">20</a></span>
<span class="normal"><a href="#__codelineno-7-21">21</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="hll">mhubbard@z420VM-2404:~$ dig @192.168.10.222 -x 192.168.10.105
</span></span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2"></a>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3"></a>; &lt;&lt;&gt;&gt; DiG 9.18.28-0ubuntu0.24.04.1-Ubuntu &lt;&lt;&gt;&gt; @192.168.10.222 -x 192.168.10.105
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4"></a>; (1 server found)
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5"></a>;; global options: +cmd
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="hll">;; Got answer:
</span></span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7"></a>;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 24053
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8"></a>;; flags: qr aa rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9"></a>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10"></a>;; OPT PSEUDOSECTION:
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11"></a>; EDNS: version: 0, flags:; udp: 4000
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12"></a><span class="hll">;; QUESTION SECTION:
</span></span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13"></a>;105.10.168.192.in-addr.arpa.    IN    PTR
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14"></a>
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15"></a><span class="hll">;; ANSWER SECTION:
</span></span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16"></a>105.10.168.192.in-addr.arpa. 3600 IN    PTR    z420VM-2404.pu.pri.
</span><span id="__span-7-17"><a id="__codelineno-7-17" name="__codelineno-7-17"></a>
</span><span id="__span-7-18"><a id="__codelineno-7-18" name="__codelineno-7-18"></a>;; Query time: 0 msec
</span><span id="__span-7-19"><a id="__codelineno-7-19" name="__codelineno-7-19"></a>;; SERVER: 192.168.10.222#53(192.168.10.222) (UDP)
</span><span id="__span-7-20"><a id="__codelineno-7-20" name="__codelineno-7-20"></a>;; WHEN: Thu Aug 15 17:40:12 PDT 2024
</span><span id="__span-7-21"><a id="__codelineno-7-21" name="__codelineno-7-21"></a>;; MSG SIZE  rcvd: 88
</span></code></pre></div></td></tr></table></div>
<p>You can also use grep to just pull out the hostname section:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span>
<span class="normal"><a href="#__codelineno-8-2">2</a></span>
<span class="normal"><a href="#__codelineno-8-3">3</a></span>
<span class="normal"><a href="#__codelineno-8-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="hll">dig @192.168.10.222 -x 192.168.10.105 | grep -B 2 z420
</span></span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2"></a>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3"></a>;; ANSWER SECTION:
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4"></a>105.10.168.192.in-addr.arpa. 3600 IN    PTR    z420VM-2404.pu.pri.
</span></code></pre></div></td></tr></table></div>
<h2 id="use-dig-with-the-hostname">Use dig with the hostname</h2>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-9-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-9-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-9-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-9-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-9-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-9-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-9-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-9-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-9-10">10</a></span>
<span class="normal"><a href="#__codelineno-9-11">11</a></span>
<span class="normal"><a href="#__codelineno-9-12">12</a></span>
<span class="normal"><a href="#__codelineno-9-13">13</a></span>
<span class="normal"><a href="#__codelineno-9-14">14</a></span>
<span class="normal"><a href="#__codelineno-9-15">15</a></span>
<span class="normal"><a href="#__codelineno-9-16">16</a></span>
<span class="normal"><a href="#__codelineno-9-17">17</a></span>
<span class="normal"><a href="#__codelineno-9-18">18</a></span>
<span class="normal"><a href="#__codelineno-9-19">19</a></span>
<span class="normal"><a href="#__codelineno-9-20">20</a></span>
<span class="normal"><a href="#__codelineno-9-21">21</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="hll">mhubbard@z420VM-2404:~$ dig @192.168.10.222 z420VM-2404.pu.pri
</span></span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2"></a>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3"></a>; &lt;&lt;&gt;&gt; DiG 9.18.28-0ubuntu0.24.04.1-Ubuntu &lt;&lt;&gt;&gt; @192.168.10.222 z420VM-2404.pu.pri
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4"></a>; (1 server found)
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5"></a>;; global options: +cmd
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6"></a><span class="hll">;; Got answer:
</span></span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7"></a>;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 3444
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8"></a>;; flags: qr aa rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9"></a>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10"></a>;; OPT PSEUDOSECTION:
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11"></a>; EDNS: version: 0, flags:; udp: 4000
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12"></a><span class="hll">;; QUESTION SECTION:
</span></span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13"></a>;z420VM-2404.pu.pri.            IN    A
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14"></a>
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15"></a><span class="hll">;; ANSWER SECTION:
</span></span><span id="__span-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16"></a>z420VM-2404.pu.pri.    3600     IN    A    192.168.10.105
</span><span id="__span-9-17"><a id="__codelineno-9-17" name="__codelineno-9-17"></a>
</span><span id="__span-9-18"><a id="__codelineno-9-18" name="__codelineno-9-18"></a>;; Query time: 0 msec
</span><span id="__span-9-19"><a id="__codelineno-9-19" name="__codelineno-9-19"></a>;; SERVER: 192.168.10.222#53(192.168.10.222) (UDP)
</span><span id="__span-9-20"><a id="__codelineno-9-20" name="__codelineno-9-20"></a>;; WHEN: Thu Aug 15 17:45:48 PDT 2024
</span><span id="__span-9-21"><a id="__codelineno-9-21" name="__codelineno-9-21"></a>;; MSG SIZE  rcvd: 63
</span></code></pre></div></td></tr></table></div>
<h3 id="troubleshooting-if-using-dhcp">Troubleshooting If using DHCP</h3>
<p>It's critical that the host got a dhcp assigned address and that DHCP registered a DNS A record. If the above fails you have to fix it before proceeding.</p>
<p>I setup Windows server DHCP to always register a DNS A record and created an AD account for it to use.</p>
<h4 id="release-and-renew-the-lease">Release and renew the lease</h4>
<p>Ubuntu 24.04 has transitioned a lot of networking services to networkd from network manager. Because of this dhclient isn't installed. Run the following commands to install it and release/renew the lease:</p>
<div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span>
<span class="normal"><a href="#__codelineno-10-2">2</a></span>
<span class="normal"><a href="#__codelineno-10-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1"></a>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>isc-dhcp-client
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2"></a>sudo<span class="w"> </span>dhclient<span class="w"> </span>-r<span class="w"> </span>ens33
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3"></a>sudo<span class="w"> </span>dhclient<span class="w"> </span>-v<span class="w"> </span>ens33
</span></code></pre></div></td></tr></table></div>
<p>The <code>-r</code> releases and the dhclient with no options renews. The <code>-v</code> means verbose and I like to use it to get more detail.</p>
<h3 id="troubleshooting-if-using-static-ip">Troubleshooting If using static IP</h3>
<p>There is no automatic way for the DNS server to register your laptop if you are using a static IP address. You will have to manually create the DNS entry. I highly recommend that you create the forward and reverse DNS entry.</p>
<h3 id="display-the-ntp-server">Display the NTP server</h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>cat<span class="w"> </span>/etc/systemd/timesyncd.conf
</span></code></pre></div>
<p>If you see <code>#NTP</code> then you will need to edit the <code>/etc/systemd/timesyncd.conf</code> file.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>sudo<span class="w"> </span>gnome-text-editor<span class="w"> </span>/etc/systemd/timesyncd.conf
</span></code></pre></div>
<p>Set the DC as the NTP server</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1">1</a></span>
<span class="normal"><a href="#__codelineno-13-2">2</a></span>
<span class="normal"><a href="#__codelineno-13-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1"></a>[Time]
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2"></a>NTP=192.168.10.222
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3"></a>FallbackNTP=time-b.nist.gov
</span></code></pre></div></td></tr></table></div>
<h3 id="restart-the-daemons">Restart the daemons</h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>systemctl<span class="w"> </span>daemon-reload
</span></code></pre></div>
<p>Verify that the time on the DC matches the time on the Ubuntu box</p>
<p>On the DC</p>
<ul>
<li>Open a cmd window</li>
</ul>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span>
<span class="normal"><a href="#__codelineno-15-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="hll">C:\Windows\system32&gt;time
</span></span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2"></a>The current time is: 14:57:02.37
</span></code></pre></div></td></tr></table></div>
<p>On the Ubuntu box</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1">1</a></span>
<span class="normal"><a href="#__codelineno-16-2">2</a></span>
<span class="normal"><a href="#__codelineno-16-3">3</a></span>
<span class="normal"><a href="#__codelineno-16-4">4</a></span>
<span class="normal"><a href="#__codelineno-16-5">5</a></span>
<span class="normal"><a href="#__codelineno-16-6">6</a></span>
<span class="normal"><a href="#__codelineno-16-7">7</a></span>
<span class="normal"><a href="#__codelineno-16-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="hll">mhubbard@z420VM-2404:~$ timedatectl status
</span></span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2"></a><span class="hll">               Local time: Thu 2024-05-30 14:58:08 PDT
</span></span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3"></a>           Universal time: Thu 2024-05-30 21:58:08 UTC
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4"></a>                 RTC time: Thu 2024-05-30 21:58:08
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5"></a><span class="hll">                Time zone: America/Los_Angeles (PDT, -0700)
</span></span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6"></a><span class="hll">System clock synchronized: yes
</span></span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7"></a><span class="hll">              NTP service: active
</span></span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8"></a>          RTC in local TZ: no
</span></code></pre></div></td></tr></table></div>
<h3 id="verify-that-the-host-can-find-ad">Verify that the host can find AD</h3>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-17-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-17-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-17-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-17-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-17-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-17-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-17-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-17-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-17-10">10</a></span>
<span class="normal"><a href="#__codelineno-17-11">11</a></span>
<span class="normal"><a href="#__codelineno-17-12">12</a></span>
<span class="normal"><a href="#__codelineno-17-13">13</a></span>
<span class="normal"><a href="#__codelineno-17-14">14</a></span>
<span class="normal"><a href="#__codelineno-17-15">15</a></span>
<span class="normal"><a href="#__codelineno-17-16">16</a></span>
<span class="normal"><a href="#__codelineno-17-17">17</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="hll">mhubbard@z420VM-2404:~$ realm -v discover pu.pri
</span></span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2"></a> * Resolving: _ldap._tcp.pu.pri
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3"></a> * Performing LDAP DSE lookup on: 192.168.10.222
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4"></a><span class="hll"> * Successfully discovered: pu.pri
</span></span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5"></a>pu.pri
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6"></a>  type: kerberos
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7"></a>  realm-name: PU.PRI
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8"></a><span class="hll">  domain-name: pu.pri
</span></span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9"></a>  configured: no
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10"></a><span class="hll">  server-software: active-directory
</span></span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11"></a>  client-software: sssd
</span><span id="__span-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12"></a>  required-package: sssd-tools
</span><span id="__span-17-13"><a id="__codelineno-17-13" name="__codelineno-17-13"></a>  required-package: sssd
</span><span id="__span-17-14"><a id="__codelineno-17-14" name="__codelineno-17-14"></a>  required-package: libnss-sss
</span><span id="__span-17-15"><a id="__codelineno-17-15" name="__codelineno-17-15"></a>  required-package: libpam-sss
</span><span id="__span-17-16"><a id="__codelineno-17-16" name="__codelineno-17-16"></a>  required-package: adcli
</span><span id="__span-17-17"><a id="__codelineno-17-17" name="__codelineno-17-17"></a>  required-package: samba-common-bin
</span></code></pre></div></td></tr></table></div>
<h3 id="create-the-kerberos-file">Create the Kerberos file</h3>
<div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-18-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-18-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-18-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-18-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-18-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-18-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-18-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-18-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-18-10">10</a></span>
<span class="normal"><a href="#__codelineno-18-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="hll">mhubbard@z420VM-2404:~$<span class="w"> </span>sudo<span class="w"> </span>touch<span class="w"> </span>/etc/krb5.conf
</span></span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2"></a>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3"></a><span class="hll">mhubbard@z420VM-2404:~$<span class="w"> </span>sudo<span class="w"> </span>gnome-text-editor<span class="w"> </span>/etc/krb5.conf
</span></span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4"></a><span class="o">[</span>libdefaults<span class="o">]</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5"></a><span class="w">    </span><span class="nv">default_realm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>PU.PRI
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6"></a><span class="w">    </span><span class="nv">rdns</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7"></a>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8"></a><span class="hll">mhubbard@z420VM-2404:~$<span class="w"> </span>sudo<span class="w"> </span>cat<span class="w"> </span>/etc/krb5.conf
</span></span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9"></a><span class="o">[</span>libdefaults<span class="o">]</span>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10"></a><span class="w">    </span><span class="nv">default_realm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>PU.PRI
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11"></a><span class="w">    </span><span class="nv">rdns</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span>
</span></code></pre></div></td></tr></table></div>
<h3 id="verify-that-the-dc-is-discoverable">Verify that the DC is discoverable</h3>
<div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-19-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-19-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-19-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-19-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-19-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-19-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-19-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-19-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-19-10">10</a></span>
<span class="normal"><a href="#__codelineno-19-11">11</a></span>
<span class="normal"><a href="#__codelineno-19-12">12</a></span>
<span class="normal"><a href="#__codelineno-19-13">13</a></span>
<span class="normal"><a href="#__codelineno-19-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="hll">mhubbard@z420VM-2404:~$<span class="w"> </span>realm<span class="w"> </span>discover<span class="w"> </span>randc02.pu.pri
</span></span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2"></a>pu.pri
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3"></a><span class="w">  </span>type:<span class="w"> </span>kerberos
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4"></a><span class="w">  </span>realm-name:<span class="w"> </span>PU.PRI
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5"></a><span class="hll"><span class="w">  </span>domain-name:<span class="w"> </span>pu.pri
</span></span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6"></a><span class="w">  </span>configured:<span class="w"> </span>no
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7"></a><span class="hll"><span class="w">  </span>server-software:<span class="w"> </span>active-directory
</span></span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8"></a><span class="w">  </span>client-software:<span class="w"> </span>sssd
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9"></a><span class="w">  </span>required-package:<span class="w"> </span>sssd-tools
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10"></a><span class="w">  </span>required-package:<span class="w"> </span>sssd
</span><span id="__span-19-11"><a id="__codelineno-19-11" name="__codelineno-19-11"></a><span class="w">  </span>required-package:<span class="w"> </span>libnss-sss
</span><span id="__span-19-12"><a id="__codelineno-19-12" name="__codelineno-19-12"></a><span class="w">  </span>required-package:<span class="w"> </span>libpam-sss
</span><span id="__span-19-13"><a id="__codelineno-19-13" name="__codelineno-19-13"></a><span class="w">  </span>required-package:<span class="w"> </span>adcli
</span><span id="__span-19-14"><a id="__codelineno-19-14" name="__codelineno-19-14"></a><span class="w">  </span>required-package:<span class="w"> </span>samba-common-bin
</span></code></pre></div></td></tr></table></div>
<h3 id="join-the-domain">Join the Domain</h3>
<div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-20-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-20-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-20-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-20-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-20-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-20-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-20-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-20-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-20-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-20-10">10</a></span>
<span class="normal"><a href="#__codelineno-20-11">11</a></span>
<span class="normal"><a href="#__codelineno-20-12">12</a></span>
<span class="normal"><a href="#__codelineno-20-13">13</a></span>
<span class="normal"><a href="#__codelineno-20-14">14</a></span>
<span class="normal"><a href="#__codelineno-20-15">15</a></span>
<span class="normal"><a href="#__codelineno-20-16">16</a></span>
<span class="normal"><a href="#__codelineno-20-17">17</a></span>
<span class="normal"><a href="#__codelineno-20-18">18</a></span>
<span class="normal"><a href="#__codelineno-20-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1"></a><span class="hll">mhubbard@z420VM-2404:~$<span class="w"> </span>realm<span class="w"> </span>join<span class="w"> </span>randc02.pu.pri
</span></span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2"></a>Password<span class="w"> </span><span class="k">for</span><span class="w"> </span>Administrator:
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3"></a>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4"></a>mhubbard@z420VM-2404:~$<span class="w"> </span>realm<span class="w"> </span>discover<span class="w"> </span>randc02.pu.pri
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5"></a>pu.pri
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6"></a><span class="w">  </span>type:<span class="w"> </span>kerberos
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7"></a><span class="w">  </span>realm-name:<span class="w"> </span>PU.PRI
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8"></a><span class="w">  </span>domain-name:<span class="w"> </span>pu.pri
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9"></a><span class="w">  </span>configured:<span class="w"> </span>kerberos-member
</span><span id="__span-20-10"><a id="__codelineno-20-10" name="__codelineno-20-10"></a><span class="w">  </span>server-software:<span class="w"> </span>active-directory
</span><span id="__span-20-11"><a id="__codelineno-20-11" name="__codelineno-20-11"></a><span class="w">  </span>client-software:<span class="w"> </span>sssd
</span><span id="__span-20-12"><a id="__codelineno-20-12" name="__codelineno-20-12"></a><span class="w">  </span>required-package:<span class="w"> </span>sssd-tools
</span><span id="__span-20-13"><a id="__codelineno-20-13" name="__codelineno-20-13"></a><span class="w">  </span>required-package:<span class="w"> </span>sssd
</span><span id="__span-20-14"><a id="__codelineno-20-14" name="__codelineno-20-14"></a><span class="w">  </span>required-package:<span class="w"> </span>libnss-sss
</span><span id="__span-20-15"><a id="__codelineno-20-15" name="__codelineno-20-15"></a><span class="w">  </span>required-package:<span class="w"> </span>libpam-sss
</span><span id="__span-20-16"><a id="__codelineno-20-16" name="__codelineno-20-16"></a><span class="w">  </span>required-package:<span class="w"> </span>adcli
</span><span id="__span-20-17"><a id="__codelineno-20-17" name="__codelineno-20-17"></a><span class="w">  </span>required-package:<span class="w"> </span>samba-common-bin
</span><span id="__span-20-18"><a id="__codelineno-20-18" name="__codelineno-20-18"></a><span class="hll"><span class="w">  </span>login-formats:<span class="w"> </span>%U@pu.pri
</span></span><span id="__span-20-19"><a id="__codelineno-20-19" name="__codelineno-20-19"></a><span class="w">  </span>login-policy:<span class="w"> </span>allow-realm-logins
</span></code></pre></div></td></tr></table></div>
<h3 id="display-the-sssdconf-file">Display the sssd.conf file</h3>
<div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-21-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-21-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-21-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-21-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-21-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-21-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-21-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-21-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-21-10">10</a></span>
<span class="normal"><a href="#__codelineno-21-11">11</a></span>
<span class="normal"><a href="#__codelineno-21-12">12</a></span>
<span class="normal"><a href="#__codelineno-21-13">13</a></span>
<span class="normal"><a href="#__codelineno-21-14">14</a></span>
<span class="normal"><a href="#__codelineno-21-15">15</a></span>
<span class="normal"><a href="#__codelineno-21-16">16</a></span>
<span class="normal"><a href="#__codelineno-21-17">17</a></span>
<span class="normal"><a href="#__codelineno-21-18">18</a></span>
<span class="normal"><a href="#__codelineno-21-19">19</a></span>
<span class="normal"><a href="#__codelineno-21-20">20</a></span>
<span class="normal"><a href="#__codelineno-21-21">21</a></span>
<span class="normal"><a href="#__codelineno-21-22">22</a></span>
<span class="normal"><a href="#__codelineno-21-23">23</a></span>
<span class="normal"><a href="#__codelineno-21-24">24</a></span>
<span class="normal"><a href="#__codelineno-21-25">25</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="hll">mhubbard@z420VM-2404:~$<span class="w"> </span>sudo<span class="w"> </span>ls<span class="w"> </span>-l<span class="w"> </span>/etc/sssd
</span></span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2"></a>total<span class="w"> </span><span class="m">8</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3"></a>drwxr-xr-x<span class="w"> </span><span class="m">2</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Apr<span class="w"> </span><span class="m">16</span><span class="w"> </span><span class="m">02</span>:55<span class="w"> </span>conf.d
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4"></a>-rw-------<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w">  </span><span class="m">414</span><span class="w"> </span>May<span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="m">15</span>:57<span class="w"> </span>sssd.conf
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5"></a>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6"></a><span class="hll">mhubbard@z420VM-2404:~$<span class="w"> </span>sudo<span class="w"> </span>cat<span class="w"> </span>/etc/sssd/sssd.conf
</span></span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7"></a>
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8"></a><span class="o">[</span>sssd<span class="o">]</span>
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9"></a><span class="hll"><span class="nv">domains</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>pu.pri
</span></span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10"></a><span class="nv">config_file_version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span>
</span><span id="__span-21-11"><a id="__codelineno-21-11" name="__codelineno-21-11"></a><span class="nv">services</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>nss,<span class="w"> </span>pam
</span><span id="__span-21-12"><a id="__codelineno-21-12" name="__codelineno-21-12"></a>
</span><span id="__span-21-13"><a id="__codelineno-21-13" name="__codelineno-21-13"></a><span class="o">[</span>domain/pu.pri<span class="o">]</span>
</span><span id="__span-21-14"><a id="__codelineno-21-14" name="__codelineno-21-14"></a><span class="hll"><span class="nv">default_shell</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>/bin/bash
</span></span><span id="__span-21-15"><a id="__codelineno-21-15" name="__codelineno-21-15"></a><span class="hll"><span class="nv">ad_server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>randc02.pu.pri
</span></span><span id="__span-21-16"><a id="__codelineno-21-16" name="__codelineno-21-16"></a><span class="hll"><span class="nv">krb5_store_password_if_offline</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>True
</span></span><span id="__span-21-17"><a id="__codelineno-21-17" name="__codelineno-21-17"></a><span class="hll"><span class="nv">cache_credentials</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>True
</span></span><span id="__span-21-18"><a id="__codelineno-21-18" name="__codelineno-21-18"></a><span class="hll"><span class="nv">krb5_realm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>PU.PRI
</span></span><span id="__span-21-19"><a id="__codelineno-21-19" name="__codelineno-21-19"></a><span class="hll"><span class="nv">realmd_tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>manages-system<span class="w"> </span>joined-with-adcli
</span></span><span id="__span-21-20"><a id="__codelineno-21-20" name="__codelineno-21-20"></a><span class="hll"><span class="nv">id_provider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>ad
</span></span><span id="__span-21-21"><a id="__codelineno-21-21" name="__codelineno-21-21"></a><span class="hll"><span class="nv">fallback_homedir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>/home/%u@%d
</span></span><span id="__span-21-22"><a id="__codelineno-21-22" name="__codelineno-21-22"></a><span class="hll"><span class="nv">ad_domain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>pu.pri
</span></span><span id="__span-21-23"><a id="__codelineno-21-23" name="__codelineno-21-23"></a><span class="hll"><span class="nv">use_fully_qualified_names</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>True
</span></span><span id="__span-21-24"><a id="__codelineno-21-24" name="__codelineno-21-24"></a><span class="nv">ldap_id_mapping</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>True
</span><span id="__span-21-25"><a id="__codelineno-21-25" name="__codelineno-21-25"></a><span class="nv">access_provider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>ad
</span></code></pre></div></td></tr></table></div>
<div class="admonition note">
<p class="admonition-title">Set the correct file permissions</p>
<p>Something very important to remember is that this file must have permissions 0600 and ownership root:root, or else SSSD won’t start!</p>
</div>
<p>Some key things from this config file:</p>
<ul>
<li>cache_credentials: This allows logins when the AD server is unreachable</li>
<li>fallback_homedir: The home directory. By default, <code>/home/&lt;user&gt;@&lt;domain&gt;</code>. For example, the AD user john will have a home directory of <code>/home/john@pu.pri</code>.</li>
<li>use_fully_qualified_names: Users will be of the form user@domain, not just user. This should only be changed if you are certain no other domains will ever join the AD forest, via one of the several possible trust relationships.</li>
</ul>
<h2 id="display-the-pam-configuration-file">Display the PAM configuration file</h2>
<p>In Linux Pluggable Authentication Modules (PAM) are used to extend authentication to new services.</p>
<div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-22-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-22-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-22-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-22-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-22-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-22-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-22-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-22-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-22-10">10</a></span>
<span class="normal"><a href="#__codelineno-22-11">11</a></span>
<span class="normal"><a href="#__codelineno-22-12">12</a></span>
<span class="normal"><a href="#__codelineno-22-13">13</a></span>
<span class="normal"><a href="#__codelineno-22-14">14</a></span>
<span class="normal"><a href="#__codelineno-22-15">15</a></span>
<span class="normal"><a href="#__codelineno-22-16">16</a></span>
<span class="normal"><a href="#__codelineno-22-17">17</a></span>
<span class="normal"><a href="#__codelineno-22-18">18</a></span>
<span class="normal"><a href="#__codelineno-22-19">19</a></span>
<span class="normal"><a href="#__codelineno-22-20">20</a></span>
<span class="normal"><a href="#__codelineno-22-21">21</a></span>
<span class="normal"><a href="#__codelineno-22-22">22</a></span>
<span class="normal"><a href="#__codelineno-22-23">23</a></span>
<span class="normal"><a href="#__codelineno-22-24">24</a></span>
<span class="normal"><a href="#__codelineno-22-25">25</a></span>
<span class="normal"><a href="#__codelineno-22-26">26</a></span>
<span class="normal"><a href="#__codelineno-22-27">27</a></span>
<span class="normal"><a href="#__codelineno-22-28">28</a></span>
<span class="normal"><a href="#__codelineno-22-29">29</a></span>
<span class="normal"><a href="#__codelineno-22-30">30</a></span>
<span class="normal"><a href="#__codelineno-22-31">31</a></span>
<span class="normal"><a href="#__codelineno-22-32">32</a></span>
<span class="normal"><a href="#__codelineno-22-33">33</a></span>
<span class="normal"><a href="#__codelineno-22-34">34</a></span>
<span class="normal"><a href="#__codelineno-22-35">35</a></span>
<span class="normal"><a href="#__codelineno-22-36">36</a></span>
<span class="normal"><a href="#__codelineno-22-37">37</a></span>
<span class="normal"><a href="#__codelineno-22-38">38</a></span>
<span class="normal"><a href="#__codelineno-22-39">39</a></span>
<span class="normal"><a href="#__codelineno-22-40">40</a></span>
<span class="normal"><a href="#__codelineno-22-41">41</a></span>
<span class="normal"><a href="#__codelineno-22-42">42</a></span>
<span class="normal"><a href="#__codelineno-22-43">43</a></span>
<span class="normal"><a href="#__codelineno-22-44">44</a></span>
<span class="normal"><a href="#__codelineno-22-45">45</a></span>
<span class="normal"><a href="#__codelineno-22-46">46</a></span>
<span class="normal"><a href="#__codelineno-22-47">47</a></span>
<span class="normal"><a href="#__codelineno-22-48">48</a></span>
<span class="normal"><a href="#__codelineno-22-49">49</a></span>
<span class="normal"><a href="#__codelineno-22-50">50</a></span>
<span class="normal"><a href="#__codelineno-22-51">51</a></span>
<span class="normal"><a href="#__codelineno-22-52">52</a></span>
<span class="normal"><a href="#__codelineno-22-53">53</a></span>
<span class="normal"><a href="#__codelineno-22-54">54</a></span>
<span class="normal"><a href="#__codelineno-22-55">55</a></span>
<span class="normal"><a href="#__codelineno-22-56">56</a></span>
<span class="normal"><a href="#__codelineno-22-57">57</a></span>
<span class="normal"><a href="#__codelineno-22-58">58</a></span>
<span class="normal"><a href="#__codelineno-22-59">59</a></span>
<span class="normal"><a href="#__codelineno-22-60">60</a></span>
<span class="normal"><a href="#__codelineno-22-61">61</a></span>
<span class="normal"><a href="#__codelineno-22-62">62</a></span>
<span class="normal"><a href="#__codelineno-22-63">63</a></span>
<span class="normal"><a href="#__codelineno-22-64">64</a></span>
<span class="normal"><a href="#__codelineno-22-65">65</a></span>
<span class="normal"><a href="#__codelineno-22-66">66</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="hll">mhubbard@z420VM-2404:~$<span class="w"> </span>sudo<span class="w"> </span>cat<span class="w"> </span>/etc/pam.d/common-session
</span></span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2"></a><span class="c1">#</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3"></a><span class="c1"># /etc/pam.d/common-session - session-related modules common to all services</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4"></a><span class="c1">#</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5"></a><span class="c1"># This file is included from other service-specific PAM config files,</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6"></a><span class="c1"># and should contain a list of modules that define tasks to be performed</span>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7"></a><span class="c1"># at the start and end of interactive sessions.</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8"></a><span class="c1">#</span>
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9"></a><span class="c1"># As of pam 1.0.1-6, this file is managed by pam-auth-update by default.</span>
</span><span id="__span-22-10"><a id="__codelineno-22-10" name="__codelineno-22-10"></a><span class="c1"># To take advantage of this, it is recommended that you configure any</span>
</span><span id="__span-22-11"><a id="__codelineno-22-11" name="__codelineno-22-11"></a><span class="c1"># local modules either before or after the default block, and use</span>
</span><span id="__span-22-12"><a id="__codelineno-22-12" name="__codelineno-22-12"></a><span class="c1"># pam-auth-update to manage selection of other modules.  See</span>
</span><span id="__span-22-13"><a id="__codelineno-22-13" name="__codelineno-22-13"></a><span class="c1"># pam-auth-update(8) for details.</span>
</span><span id="__span-22-14"><a id="__codelineno-22-14" name="__codelineno-22-14"></a>
</span><span id="__span-22-15"><a id="__codelineno-22-15" name="__codelineno-22-15"></a><span class="c1"># here are the per-package modules (the &quot;Primary&quot; block)</span>
</span><span id="__span-22-16"><a id="__codelineno-22-16" name="__codelineno-22-16"></a>session<span class="w"> </span><span class="o">[</span><span class="nv">default</span><span class="o">=</span><span class="m">1</span><span class="o">]</span><span class="w">         </span>pam_permit.so
</span><span id="__span-22-17"><a id="__codelineno-22-17" name="__codelineno-22-17"></a><span class="c1"># here&#39;s the fallback if no module succeeds</span>
</span><span id="__span-22-18"><a id="__codelineno-22-18" name="__codelineno-22-18"></a>session<span class="w"> </span>requisite<span class="w">           </span>pam_deny.so
</span><span id="__span-22-19"><a id="__codelineno-22-19" name="__codelineno-22-19"></a><span class="c1"># prime the stack with a positive return value if there isn&#39;t one already;</span>
</span><span id="__span-22-20"><a id="__codelineno-22-20" name="__codelineno-22-20"></a><span class="c1"># this avoids us returning an error just because nothing sets a success code</span>
</span><span id="__span-22-21"><a id="__codelineno-22-21" name="__codelineno-22-21"></a><span class="c1"># since the modules above will each just jump around</span>
</span><span id="__span-22-22"><a id="__codelineno-22-22" name="__codelineno-22-22"></a>session<span class="w"> </span>required<span class="w">            </span>pam_permit.so
</span><span id="__span-22-23"><a id="__codelineno-22-23" name="__codelineno-22-23"></a><span class="c1"># The pam_umask module will set the umask according to the system default in</span>
</span><span id="__span-22-24"><a id="__codelineno-22-24" name="__codelineno-22-24"></a><span class="c1"># /etc/login.defs and user settings, solving the problem of different</span>
</span><span id="__span-22-25"><a id="__codelineno-22-25" name="__codelineno-22-25"></a><span class="c1"># umask settings with different shells, display managers, remote sessions etc.</span>
</span><span id="__span-22-26"><a id="__codelineno-22-26" name="__codelineno-22-26"></a><span class="c1"># See &quot;man pam_umask&quot;.</span>
</span><span id="__span-22-27"><a id="__codelineno-22-27" name="__codelineno-22-27"></a>session<span class="w"> </span>optional<span class="w">            </span>pam_umask.so
</span><span id="__span-22-28"><a id="__codelineno-22-28" name="__codelineno-22-28"></a><span class="c1"># and here are more per-package modules (the &quot;Additional&quot; block)</span>
</span><span id="__span-22-29"><a id="__codelineno-22-29" name="__codelineno-22-29"></a>session<span class="w"> </span>required<span class="w">    </span>pam_unix.so
</span><span id="__span-22-30"><a id="__codelineno-22-30" name="__codelineno-22-30"></a>session<span class="w"> </span>optional<span class="w">    </span>pam_sss.so
</span><span id="__span-22-31"><a id="__codelineno-22-31" name="__codelineno-22-31"></a>session<span class="w"> </span>optional<span class="w">    </span>pam_systemd.so
</span><span id="__span-22-32"><a id="__codelineno-22-32" name="__codelineno-22-32"></a><span class="c1"># end of pam-auth-update config</span>
</span><span id="__span-22-33"><a id="__codelineno-22-33" name="__codelineno-22-33"></a>mhubbard@z420VM-2404:~$<span class="w"> </span>sudo<span class="w"> </span>pam-auth-update<span class="w"> </span>--enable<span class="w"> </span>mkhomedir
</span><span id="__span-22-34"><a id="__codelineno-22-34" name="__codelineno-22-34"></a>mhubbard@z420VM-2404:~$<span class="w"> </span>sudo<span class="w"> </span>cat<span class="w"> </span>/etc/pam.d/common-session
</span><span id="__span-22-35"><a id="__codelineno-22-35" name="__codelineno-22-35"></a><span class="c1">#</span>
</span><span id="__span-22-36"><a id="__codelineno-22-36" name="__codelineno-22-36"></a><span class="c1"># /etc/pam.d/common-session - session-related modules common to all services</span>
</span><span id="__span-22-37"><a id="__codelineno-22-37" name="__codelineno-22-37"></a><span class="c1">#</span>
</span><span id="__span-22-38"><a id="__codelineno-22-38" name="__codelineno-22-38"></a><span class="c1"># This file is included from other service-specific PAM config files,</span>
</span><span id="__span-22-39"><a id="__codelineno-22-39" name="__codelineno-22-39"></a><span class="c1"># and should contain a list of modules that define tasks to be performed</span>
</span><span id="__span-22-40"><a id="__codelineno-22-40" name="__codelineno-22-40"></a><span class="c1"># at the start and end of interactive sessions.</span>
</span><span id="__span-22-41"><a id="__codelineno-22-41" name="__codelineno-22-41"></a><span class="c1">#</span>
</span><span id="__span-22-42"><a id="__codelineno-22-42" name="__codelineno-22-42"></a><span class="c1"># As of pam 1.0.1-6, this file is managed by pam-auth-update by default.</span>
</span><span id="__span-22-43"><a id="__codelineno-22-43" name="__codelineno-22-43"></a><span class="c1"># To take advantage of this, it is recommended that you configure any</span>
</span><span id="__span-22-44"><a id="__codelineno-22-44" name="__codelineno-22-44"></a><span class="c1"># local modules either before or after the default block, and use</span>
</span><span id="__span-22-45"><a id="__codelineno-22-45" name="__codelineno-22-45"></a><span class="c1"># pam-auth-update to manage selection of other modules.  See</span>
</span><span id="__span-22-46"><a id="__codelineno-22-46" name="__codelineno-22-46"></a><span class="c1"># pam-auth-update(8) for details.</span>
</span><span id="__span-22-47"><a id="__codelineno-22-47" name="__codelineno-22-47"></a>
</span><span id="__span-22-48"><a id="__codelineno-22-48" name="__codelineno-22-48"></a><span class="c1"># here are the per-package modules (the &quot;Primary&quot; block)</span>
</span><span id="__span-22-49"><a id="__codelineno-22-49" name="__codelineno-22-49"></a>session<span class="w"> </span><span class="o">[</span><span class="nv">default</span><span class="o">=</span><span class="m">1</span><span class="o">]</span><span class="w">          </span>pam_permit.so
</span><span id="__span-22-50"><a id="__codelineno-22-50" name="__codelineno-22-50"></a><span class="c1"># here&#39;s the fallback if no module succeeds</span>
</span><span id="__span-22-51"><a id="__codelineno-22-51" name="__codelineno-22-51"></a>session<span class="w"> </span>requisite<span class="w">            </span>pam_deny.so
</span><span id="__span-22-52"><a id="__codelineno-22-52" name="__codelineno-22-52"></a><span class="c1"># prime the stack with a positive return value if there isn&#39;t one already;</span>
</span><span id="__span-22-53"><a id="__codelineno-22-53" name="__codelineno-22-53"></a><span class="c1"># this avoids us returning an error just because nothing sets a success code</span>
</span><span id="__span-22-54"><a id="__codelineno-22-54" name="__codelineno-22-54"></a><span class="c1"># since the modules above will each just jump around</span>
</span><span id="__span-22-55"><a id="__codelineno-22-55" name="__codelineno-22-55"></a>session<span class="w"> </span>required<span class="w">             </span>pam_permit.so
</span><span id="__span-22-56"><a id="__codelineno-22-56" name="__codelineno-22-56"></a><span class="c1"># The pam_umask module will set the umask according to the system default in</span>
</span><span id="__span-22-57"><a id="__codelineno-22-57" name="__codelineno-22-57"></a><span class="c1"># /etc/login.defs and user settings, solving the problem of different</span>
</span><span id="__span-22-58"><a id="__codelineno-22-58" name="__codelineno-22-58"></a><span class="c1"># umask settings with different shells, display managers, remote sessions etc.</span>
</span><span id="__span-22-59"><a id="__codelineno-22-59" name="__codelineno-22-59"></a><span class="c1"># See &quot;man pam_umask&quot;.</span>
</span><span id="__span-22-60"><a id="__codelineno-22-60" name="__codelineno-22-60"></a>session<span class="w"> </span>optional<span class="w">             </span>pam_umask.so
</span><span id="__span-22-61"><a id="__codelineno-22-61" name="__codelineno-22-61"></a><span class="c1"># and here are more per-package modules (the &quot;Additional&quot; block)</span>
</span><span id="__span-22-62"><a id="__codelineno-22-62" name="__codelineno-22-62"></a>session<span class="w"> </span>required<span class="w">    </span>pam_unix.so
</span><span id="__span-22-63"><a id="__codelineno-22-63" name="__codelineno-22-63"></a>session<span class="w"> </span>optional<span class="w">    </span>pam_sss.so
</span><span id="__span-22-64"><a id="__codelineno-22-64" name="__codelineno-22-64"></a>session<span class="w"> </span>optional<span class="w">    </span>pam_systemd.so
</span><span id="__span-22-65"><a id="__codelineno-22-65" name="__codelineno-22-65"></a>session<span class="w"> </span>optional<span class="w">    </span>pam_mkhomedir.so
</span><span id="__span-22-66"><a id="__codelineno-22-66" name="__codelineno-22-66"></a><span class="c1"># end of pam-auth-update config</span>
</span></code></pre></div></td></tr></table></div>
<h3 id="display-the-realm">Display the realm</h3>
<div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-23-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-23-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-23-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-23-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-23-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-23-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-23-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-23-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-23-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-23-10">10</a></span>
<span class="normal"><a href="#__codelineno-23-11">11</a></span>
<span class="normal"><a href="#__codelineno-23-12">12</a></span>
<span class="normal"><a href="#__codelineno-23-13">13</a></span>
<span class="normal"><a href="#__codelineno-23-14">14</a></span>
<span class="normal"><a href="#__codelineno-23-15">15</a></span>
<span class="normal"><a href="#__codelineno-23-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="hll">mhubbard@z420VM-2404:~$<span class="w"> </span>realm<span class="w"> </span>list
</span></span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2"></a>pu.pri
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3"></a><span class="w">  </span>type:<span class="w"> </span>kerberos
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4"></a><span class="hll"><span class="w">  </span>realm-name:<span class="w"> </span>PU.PRI
</span></span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5"></a><span class="w">  </span>domain-name:<span class="w"> </span>pu.pri
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6"></a><span class="hll"><span class="w">  </span>configured:<span class="w"> </span>kerberos-member
</span></span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7"></a><span class="hll"><span class="w">  </span>server-software:<span class="w"> </span>active-directory
</span></span><span id="__span-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8"></a><span class="w">  </span>client-software:<span class="w"> </span>sssd
</span><span id="__span-23-9"><a id="__codelineno-23-9" name="__codelineno-23-9"></a><span class="w">  </span>required-package:<span class="w"> </span>sssd-tools
</span><span id="__span-23-10"><a id="__codelineno-23-10" name="__codelineno-23-10"></a><span class="w">  </span>required-package:<span class="w"> </span>sssd
</span><span id="__span-23-11"><a id="__codelineno-23-11" name="__codelineno-23-11"></a><span class="w">  </span>required-package:<span class="w"> </span>libnss-sss
</span><span id="__span-23-12"><a id="__codelineno-23-12" name="__codelineno-23-12"></a><span class="w">  </span>required-package:<span class="w"> </span>libpam-sss
</span><span id="__span-23-13"><a id="__codelineno-23-13" name="__codelineno-23-13"></a><span class="w">  </span>required-package:<span class="w"> </span>adcli
</span><span id="__span-23-14"><a id="__codelineno-23-14" name="__codelineno-23-14"></a><span class="w">  </span>required-package:<span class="w"> </span>samba-common-bin
</span><span id="__span-23-15"><a id="__codelineno-23-15" name="__codelineno-23-15"></a><span class="hll"><span class="w">  </span>login-formats:<span class="w"> </span>%U@pu.pri
</span></span><span id="__span-23-16"><a id="__codelineno-23-16" name="__codelineno-23-16"></a><span class="w">  </span>login-policy:<span class="w"> </span>allow-realm-logins
</span></code></pre></div></td></tr></table></div>
<h3 id="display-ad-status">Display AD Status</h3>
<div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-24-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-24-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-24-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-24-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-24-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-24-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-24-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-24-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-24-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-24-10">10</a></span>
<span class="normal"><a href="#__codelineno-24-11">11</a></span>
<span class="normal"><a href="#__codelineno-24-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1"></a><span class="hll">mhubbard@z420VM-2404:~$<span class="w"> </span>sudo<span class="w"> </span>sssctl<span class="w"> </span>domain-status<span class="w"> </span>pu.pri
</span></span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2"></a>Online<span class="w"> </span>status:<span class="w"> </span>Online
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3"></a>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4"></a>Active<span class="w"> </span>servers:
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5"></a>AD<span class="w"> </span>Global<span class="w"> </span>Catalog:<span class="w"> </span>not<span class="w"> </span>connected
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6"></a><span class="hll">AD<span class="w"> </span>Domain<span class="w"> </span>Controller:<span class="w"> </span>randc02.pu.pri
</span></span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7"></a>
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8"></a>Discovered<span class="w"> </span>AD<span class="w"> </span>Global<span class="w"> </span>Catalog<span class="w"> </span>servers:
</span><span id="__span-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9"></a><span class="hll">-<span class="w"> </span>randc02.pu.pri
</span></span><span id="__span-24-10"><a id="__codelineno-24-10" name="__codelineno-24-10"></a>
</span><span id="__span-24-11"><a id="__codelineno-24-11" name="__codelineno-24-11"></a>Discovered<span class="w"> </span>AD<span class="w"> </span>Domain<span class="w"> </span>Controller<span class="w"> </span>servers:
</span><span id="__span-24-12"><a id="__codelineno-24-12" name="__codelineno-24-12"></a><span class="hll">-<span class="w"> </span>randc02.pu.pri
</span></span></code></pre></div></td></tr></table></div>
<h2 id="log-into-the-domain">Log into the domain</h2>
<p>The format at the login screen is <code>username@domain</code>. In this example, my username is mhubbard and the domain is pu.pri so the login will be <code>mhubbard@pu.pri</code>. Remember that the password is the Active Directory password.</p>
<hr />
<p><img alt="screenshot" src="../img/create-user-directory.png" /></p>
<hr />
<p>You will see a message that the /home/username@domain directory is being created. If we open a terminal and run:</p>
<div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-25-1">1</a></span>
<span class="normal"><a href="#__codelineno-25-2">2</a></span>
<span class="normal"><a href="#__codelineno-25-3">3</a></span>
<span class="normal"><a href="#__codelineno-25-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1"></a><span class="hll">ls<span class="w"> </span>-l<span class="w"> </span>/home/
</span></span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2"></a>total<span class="w"> </span><span class="m">12</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3"></a>drwxr-x---<span class="w"> </span><span class="m">17</span><span class="w"> </span>mhubbard<span class="w">        </span>mhubbard<span class="w">            </span><span class="m">4096</span><span class="w"> </span>Aug<span class="w"> </span><span class="m">15</span><span class="w"> </span><span class="m">21</span>:57<span class="w">  </span>mhubbard/
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4"></a>drwxr-x---<span class="w"> </span><span class="m">16</span><span class="w"> </span>mhubbard@pu.pri<span class="w"> </span>domain<span class="w"> </span>users@pu.pri<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Aug<span class="w"> </span><span class="m">16</span><span class="w"> </span><span class="m">13</span>:28<span class="w"> </span><span class="s1">&#39;mhubbard@pu.pri&#39;</span>/
</span></code></pre></div></td></tr></table></div>
<p>you can see the <code>mhubbard@pu.pri</code> home directory, the owner is <code>mhubbard@pu.pri</code>and group membership is <code>domain users@pu.pri</code>.</p>
<hr />
<h3 id="add-the-ad-user-to-the-sudoers-group">Add the AD user to the sudoers group</h3>
<p>If your company policy allows it you should add your new AD account to the sudoers group. Log in with your local account (Assuming it has sudo rights) and run the following command:</p>
<div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-26-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1"></a><span class="hll">sudo<span class="w"> </span>usermod<span class="w"> </span>-aG<span class="w"> </span>sudo<span class="w"> </span>mhubbard@pu.pri
</span></span></code></pre></div></td></tr></table></div>
<hr />
<h3 id="connect-to-a-windows-share">Connect to a windows share</h3>
<p>Ubuntu uses the SAMBA protocols to join and work with a Windows domain. Once the laptop is joined you can easily access Windows share resources. Open the <code>Files</code> application and click on <code>+ Other Locations</code> at the bottom of the left window. You will see a <code>connect to server</code> message and a <code>Connect</code> button.</p>
<p>Since we are using the SAMBA protocol, the address will start with <code>smb://</code> and then the server name (IP or FQDN) and a share name. In the image below I an connecting to the DC (randc02.pru.pri) and a share named <code>tftp-root</code>.</p>
<p><img alt="screenshot" src="../img/connect2server.png" /></p>
<hr />
<p>Click on <code>Connect</code> and the share will be mounted and files will open a new window with the share displayed:</p>
<hr />
<p><img alt="screenshot" src="../img/FIles-randc02.png" /></p>
<hr />
<p>If you want to work with the files in the terminal the easiest way is to right click in the share window and select <code>Open in Terminal</code>:</p>
<hr />
<p><img alt="screenshot" src="../img/OpenInTerm.png" /></p>
<hr />
<p>The path is gnarly!</p>
<div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-27-1">1</a></span>
<span class="normal"><a href="#__codelineno-27-2">2</a></span>
<span class="normal"><a href="#__codelineno-27-3">3</a></span>
<span class="normal"><a href="#__codelineno-27-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1"></a><span class="hll">/run/user/1242401104/gvfs/smb-share:server<span class="o">=</span>randc02.pu.pri,share<span class="o">=</span>tftp-root$<span class="w"> </span>ls<span class="w"> </span>-l
</span></span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2"></a>total<span class="w"> </span><span class="m">225895</span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3"></a>-rwx------<span class="w"> </span><span class="m">1</span><span class="w"> </span>mhubbard@pu.pri<span class="w"> </span>domain<span class="w"> </span>users@pu.pri<span class="w"> </span><span class="m">16979365</span><span class="w"> </span>Aug<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">23</span>:21<span class="w"> </span>WB_16_08_0002.swi
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4"></a>-rwx------<span class="w"> </span><span class="m">1</span><span class="w"> </span>mhubbard@pu.pri<span class="w"> </span>domain<span class="w"> </span>users@pu.pri<span class="w"> </span><span class="m">16977864</span><span class="w"> </span>Aug<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">23</span>:21<span class="w"> </span>WB_16_08_0003.swi
</span></code></pre></div></td></tr></table></div>
<h3 id="create-a-mount-point">Create a mount point</h3>
<p>If you work mostly from the terminal it's probably better to create a mount point and mount the share:</p>
<div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-28-1">1</a></span>
<span class="normal"><a href="#__codelineno-28-2">2</a></span>
<span class="normal"><a href="#__codelineno-28-3">3</a></span>
<span class="normal"><a href="#__codelineno-28-4">4</a></span>
<span class="normal"><a href="#__codelineno-28-5">5</a></span>
<span class="normal"><a href="#__codelineno-28-6">6</a></span>
<span class="normal"><a href="#__codelineno-28-7">7</a></span>
<span class="normal"><a href="#__codelineno-28-8">8</a></span>
<span class="normal"><a href="#__codelineno-28-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1"></a><span class="hll">sudo<span class="w"> </span>mkdir<span class="w"> </span>/mnt/tftp-root
</span></span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2"></a>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3"></a><span class="hll">sudo<span class="w"> </span>mount<span class="w"> </span>-t<span class="w"> </span>cifs<span class="w"> </span>-o<span class="w"> </span><span class="nv">username</span><span class="o">=</span>mhubbard@pu.pri,password<span class="o">=</span>Sup3rS3cr3t<span class="w"> </span>//192.168.10.222/tftp-root<span class="w"> </span>/mnt/tftp-root/
</span></span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4"></a>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5"></a><span class="hll"><span class="nb">cd</span><span class="w"> </span>/mnt/tftp-root/
</span></span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6"></a><span class="hll">mhubbard@pu.pri@z420-2404:/mnt/tftp-root$<span class="w"> </span>l<span class="w"> </span>-l
</span></span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7"></a>total<span class="w"> </span><span class="m">225912</span>
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8"></a>-rwxr-xr-x<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">16979365</span><span class="w"> </span>Aug<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">23</span>:21<span class="w"> </span>WB_16_08_0002.swi*
</span><span id="__span-28-9"><a id="__codelineno-28-9" name="__codelineno-28-9"></a>-rwxr-xr-x<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">16977864</span><span class="w"> </span>Aug<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">23</span>:21<span class="w"> </span>WB_16_08_0003.swi*
</span></code></pre></div></td></tr></table></div>
<p>Then when you are finished, unmount the shared filesystem:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>sudo<span class="w"> </span>umount<span class="w"> </span>-l<span class="w"> </span>/mnt/tftp-root
</span></code></pre></div>
<p>The <code>-l</code> argument means lazy. It unmounts when all processes and dependencies are released.</p>
<hr />
<h3 id="display-a-specific-user">Display a specific user</h3>
<div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-30-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-30-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-30-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-30-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-30-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-30-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-30-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-30-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-30-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-30-10">10</a></span>
<span class="normal"><a href="#__codelineno-30-11">11</a></span>
<span class="normal"><a href="#__codelineno-30-12">12</a></span>
<span class="normal"><a href="#__codelineno-30-13">13</a></span>
<span class="normal"><a href="#__codelineno-30-14">14</a></span>
<span class="normal"><a href="#__codelineno-30-15">15</a></span>
<span class="normal"><a href="#__codelineno-30-16">16</a></span>
<span class="normal"><a href="#__codelineno-30-17">17</a></span>
<span class="normal"><a href="#__codelineno-30-18">18</a></span>
<span class="normal"><a href="#__codelineno-30-19">19</a></span>
<span class="normal"><a href="#__codelineno-30-20">20</a></span>
<span class="normal"><a href="#__codelineno-30-21">21</a></span>
<span class="normal"><a href="#__codelineno-30-22">22</a></span>
<span class="normal"><a href="#__codelineno-30-23">23</a></span>
<span class="normal"><a href="#__codelineno-30-24">24</a></span>
<span class="normal"><a href="#__codelineno-30-25">25</a></span>
<span class="normal"><a href="#__codelineno-30-26">26</a></span>
<span class="normal"><a href="#__codelineno-30-27">27</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1"></a><span class="hll">sudo<span class="w"> </span>sssctl<span class="w"> </span>user-checks<span class="w"> </span>mhubbard@pu.pri
</span></span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2"></a><span class="hll">user:<span class="w"> </span>mhubbard@pu.pri
</span></span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3"></a>action:<span class="w"> </span>acct
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4"></a>service:<span class="w"> </span>system-auth
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5"></a>
</span><span id="__span-30-6"><a id="__codelineno-30-6" name="__codelineno-30-6"></a>SSSD<span class="w"> </span>nss<span class="w"> </span>user<span class="w"> </span>lookup<span class="w"> </span>result:
</span><span id="__span-30-7"><a id="__codelineno-30-7" name="__codelineno-30-7"></a><span class="hll"><span class="w"> </span>-<span class="w"> </span>user<span class="w"> </span>name:<span class="w"> </span>mhubbard@pu.pri
</span></span><span id="__span-30-8"><a id="__codelineno-30-8" name="__codelineno-30-8"></a><span class="hll"><span class="w"> </span>-<span class="w"> </span>user<span class="w"> </span>id:<span class="w"> </span><span class="m">1242401104</span>
</span></span><span id="__span-30-9"><a id="__codelineno-30-9" name="__codelineno-30-9"></a><span class="hll"><span class="w"> </span>-<span class="w"> </span>group<span class="w"> </span>id:<span class="w"> </span><span class="m">1242400513</span>
</span></span><span id="__span-30-10"><a id="__codelineno-30-10" name="__codelineno-30-10"></a><span class="w"> </span>-<span class="w"> </span>gecos:<span class="w"> </span>Hubbard,<span class="w"> </span>Michael
</span><span id="__span-30-11"><a id="__codelineno-30-11" name="__codelineno-30-11"></a><span class="hll"><span class="w"> </span>-<span class="w"> </span>home<span class="w"> </span>directory:<span class="w"> </span>/home/mhubbard@pu.pri
</span></span><span id="__span-30-12"><a id="__codelineno-30-12" name="__codelineno-30-12"></a><span class="w"> </span>-<span class="w"> </span>shell:<span class="w"> </span>/bin/bash
</span><span id="__span-30-13"><a id="__codelineno-30-13" name="__codelineno-30-13"></a>
</span><span id="__span-30-14"><a id="__codelineno-30-14" name="__codelineno-30-14"></a>SSSD<span class="w"> </span>InfoPipe<span class="w"> </span>user<span class="w"> </span>lookup<span class="w"> </span>result:
</span><span id="__span-30-15"><a id="__codelineno-30-15" name="__codelineno-30-15"></a><span class="w"> </span>-<span class="w"> </span>name:<span class="w"> </span>mhubbard@pu.pri
</span><span id="__span-30-16"><a id="__codelineno-30-16" name="__codelineno-30-16"></a><span class="w"> </span>-<span class="w"> </span>uidNumber:<span class="w"> </span><span class="m">1242401104</span>
</span><span id="__span-30-17"><a id="__codelineno-30-17" name="__codelineno-30-17"></a><span class="w"> </span>-<span class="w"> </span>gidNumber:<span class="w"> </span><span class="m">1242400513</span>
</span><span id="__span-30-18"><a id="__codelineno-30-18" name="__codelineno-30-18"></a><span class="w"> </span>-<span class="w"> </span>gecos:<span class="w"> </span>Hubbard,<span class="w"> </span>Michael
</span><span id="__span-30-19"><a id="__codelineno-30-19" name="__codelineno-30-19"></a><span class="w"> </span>-<span class="w"> </span>homeDirectory:<span class="w"> </span>not<span class="w"> </span><span class="nb">set</span>
</span><span id="__span-30-20"><a id="__codelineno-30-20" name="__codelineno-30-20"></a><span class="w"> </span>-<span class="w"> </span>loginShell:<span class="w"> </span>not<span class="w"> </span><span class="nb">set</span>
</span><span id="__span-30-21"><a id="__codelineno-30-21" name="__codelineno-30-21"></a>
</span><span id="__span-30-22"><a id="__codelineno-30-22" name="__codelineno-30-22"></a>testing<span class="w"> </span>pam_acct_mgmt
</span><span id="__span-30-23"><a id="__codelineno-30-23" name="__codelineno-30-23"></a>
</span><span id="__span-30-24"><a id="__codelineno-30-24" name="__codelineno-30-24"></a>pam_acct_mgmt:<span class="w"> </span>Permission<span class="w"> </span>denied
</span><span id="__span-30-25"><a id="__codelineno-30-25" name="__codelineno-30-25"></a>
</span><span id="__span-30-26"><a id="__codelineno-30-26" name="__codelineno-30-26"></a>PAM<span class="w"> </span>Environment:
</span><span id="__span-30-27"><a id="__codelineno-30-27" name="__codelineno-30-27"></a><span class="w"> </span>-<span class="w"> </span>no<span class="w"> </span>env<span class="w"> </span>-
</span></code></pre></div></td></tr></table></div>
<h3 id="display-the-domain-users-group">Display the "Domain Users" group</h3>
<div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-31-1">1</a></span>
<span class="normal"><a href="#__codelineno-31-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1"></a><span class="hll">mhubbard@z420VM-2404:~$<span class="w"> </span>getent<span class="w"> </span>group<span class="w"> </span><span class="s2">&quot;domain users&quot;</span>@pu.pri
</span></span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2"></a>domain<span class="w"> </span>users@pu.pri:*:1242400513:z420VM-2404@pu.pri
</span></code></pre></div></td></tr></table></div>
<h3 id="display-a-users-groups">Display a user's groups</h3>
<div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-32-1">1</a></span>
<span class="normal"><a href="#__codelineno-32-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1"></a><span class="hll">groups<span class="w"> </span>mhubbard@pu.pri
</span></span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2"></a>mhubbard@pu.pri<span class="w"> </span>:<span class="w"> </span>domain<span class="w"> </span>users@pu.pri<span class="w"> </span>denied<span class="w"> </span>rodc<span class="w"> </span>password<span class="w"> </span>replication<span class="w"> </span>group@pu.pri<span class="w"> </span>cisco<span class="w"> </span>admins@pu.pri<span class="w"> </span>sonicwall-nps@pu.pri<span class="w"> </span>domain<span class="w"> </span>admins@pu.pri
</span></code></pre></div></td></tr></table></div>
<h3 id="display-user-information">Display user information</h3>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-33-1">1</a></span>
<span class="normal"><a href="#__codelineno-33-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1"></a><span class="hll">mhubbard@z420VM-2404:~$ getent passwd mhubbard@pu.pri
</span></span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2"></a>mhubbard@pu.pri:*:1242401104:1242400513:Hubbard, Michael:/home/mhubbard@pu.pri:/bin/bash
</span></code></pre></div></td></tr></table></div>
<p>The values:</p>
<ul>
<li>User ID Number (uidNumber):   <code>1242401603</code></li>
<li>group ID Number (gidNumber):  <code>1242400513</code></li>
<li>User:                         <code>Hubbard, Michael</code></li>
<li>Home Directory:               <code>/home/mhubbard@pu.pri</code></li>
<li>Shell:                        <code>/bin/bash</code></li>
</ul>
<h2 id="references">References</h2>
<ul>
<li><a href="https://ubuntu.com/server/docs/how-to-set-up-sssd-with-active-directory">How to set up SSSD with Active Directory</a></li>
<li><a href="https://wiki.archlinux.org/title/Systemd-resolved">Arch Wiki</a> - Configuring/troubleshooting systemd-resolved for DNS resolution.</li>
<li><a href="https://linuxconfig.org/how-to-add-a-user-to-sudoers-in-ubuntu-24-04">How to Add a User to Sudoers in Ubuntu 24.04</a></li>
</ul>







  
  






                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../KVM-Bridge/" class="md-footer__link md-footer__link--prev" aria-label="Previous: KVM">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                KVM
              </div>
            </div>
          </a>
        
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2024 <a href="https://github.com/rikosintie" target="_blank" rel="noopener">Michael Hubbard</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/rikosintie" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/rikosintie" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/in/mwhubbard/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["content.tabs.link", "content.code.copy", "content.code.annotate", "header.autohide", "navigation.expand", "navigation.footer", "navigation.instant", "navigation.instant.progress", "navigation.path", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "search.highlight", "search.share", "search.suggest", "toc.integrate"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>